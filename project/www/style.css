/*THE FOLLOWING SECTIONS WERE MADE BY CHAT GPT: .overlay-root and .overlay-card
    -Used gpt to generate a default template for the css styles to act as an overlay.
    -Manually edited colors and size.
    What the AI is doing here is making those classes I mentioned in ui.R earlier. When we set those tags$div containers to certain
    classes, this is where we actually make those classes exist. By setting the overlays design to overlay-root and overlay-card,
    we allow ourselves to simply make any changes we like in style.css without touching the core code in UI. We could also just be doing this
    by slotting in tags$head scripts, but that gets very messy very quickly, and this is very much so preferable. 
*/
/* Blue-tinted full-screen backdrop */
.overlay-root {
  position: fixed;
  inset: 0;
  background: rgba(152, 30, 50, 0.25); /* slightly crimson-tinted */
  z-index: 2000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 32px;
}

/* Larger centered lightbox */
.overlay-card {
  background: #ffffff;
  color: var(--text);
  width: 60%;              
  max-width: 1200px;       /* cap it so it doesn’t stretch on huge screens */
  min-height: 70vh;        /* make it tall like a real page */
  border-radius: 20px;
  padding: 32px;
  border:1px solid #ececec;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.25);
  display: flex;
  flex-direction: column;
  justify-content: center; /* centers text/buttons inside */
  text-align: center;      /* center headings & text */
}

/* Ensure overlay content keeps the light theme even when the app switches palettes */
.overlay-card,
.overlay-card label,
.overlay-card h2,
.overlay-card h3,
.overlay-card p {
  color: #1f2937 !important;
}

.overlay-card .form-control,
.overlay-card input.form-control {
  background: #ffffff;
  color: #1f2937;
  border: 1px solid #d1d5db;
  box-shadow: none;
}

.overlay-card .form-control::placeholder {
  color: #6b7280;
}

.overlay-card .form-control:focus {
  border-color: #981E32;
  box-shadow: 0 0 0 3px rgba(152, 30, 50, 0.25);
  outline: 0;
}

.overlay-card .btn-primary {
  background: #981E32;
  border-color: #981E32;
}

.overlay-card .btn-primary:hover,
.overlay-card .btn-primary:focus {
  background: #7a1828;
  border-color: #7a1828;
}

/* Disable background scrolling when overlay is open */
body:has(.overlay-root) {
  overflow: hidden;
}
/*
  Global branding and components (WSU-inspired)
  - Adds CSS variables, typography, navbar, hero, inputs, buttons, and cards.
  - Preserves existing overlay styles below.
*/

/* Design tokens */
:root{
  --wsu-crimson:#981E32;
  --wsu-crimson-dark:#7a1828;
  --text:#1f2937;
  --muted:#5e6a71;
  --bg:#f7f7f9;
  --surface:#ffffff;
  --surface-2:#f2f4f8;
  --ring:rgba(152,30,50,0.35);
  --border:#d7dbe2;
}

html,body{height:100%}
body{
  font-family:"Inter", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  color:var(--text);
  background:var(--bg);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Navbar (Bootstrap 5) */
.navbar{background-color:var(--wsu-crimson)!important}
.navbar .navbar-brand,.navbar .nav-link{color:#fff!important}
.navbar .nav-link:hover,.navbar .nav-link:focus{color:#fff!important;opacity:.9}

/* Hero */
.hero{
  background:linear-gradient(135deg, #fff 0%, #fff 65%, rgba(152,30,50,0.08) 100%);
  border:1px solid #ececec;
  border-radius:14px;
  padding:32px 28px;
  margin:18px 0 24px;
}
.hero .hero-content h1{margin:0 0 6px;font-weight:700;line-height:1.25}
.hero .subtext{color:var(--muted);margin:0 0 18px}

/* Inline input + buttons */
.greet-row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.greet-row .form-group,.greet-row .form-label{margin:0}
.greet-row input.form-control{height:40px;border-radius:10px;border:1px solid #e1e1e1;box-shadow:none}
.greet-row input.form-control:focus{border-color:var(--wsu-crimson);box-shadow:0 0 0 3px var(--ring);outline:0}

/* Primary + outline buttons */
.btn-primary{background:var(--wsu-crimson);border-color:var(--wsu-crimson);border-radius:10px;padding:8px 14px;font-weight:600}
.btn-primary:hover,.btn-primary:focus{background:var(--wsu-crimson-dark);border-color:var(--wsu-crimson-dark)}
.btn-outline-light{color:#fff;border-color:#fff;border-radius:10px}
.btn-outline-light:hover,.btn-outline-light:focus{background:rgba(255,255,255,.15);color:#fff}

/* Greeting text */
.greet-msg{margin-top:12px;font-weight:600}

/* Card blocks */
.card{background:var(--surface);border:1px solid #ececec;border-radius:12px;padding:18px 16px;margin:10px 0 16px}
.card h2,.card h3{margin-top:0}

/* =========================
   Dark Mode — WSU Accents
   ========================= */
:root{
  --wsu-crimson:#981E32;
  --wsu-crimson-dark:#7a1828;
  --text:#e5e7eb;         /* gray-200 */
  --muted:#9ca3af;        /* gray-400 */
  --bg:#0b0f14;           /* near-black */
  --surface:#121826;      /* panel/card bg */
  --surface-2:#0f1522;    /* slightly darker for contrast blocks */
  --ring:rgba(152,30,50,.45);
  --border:rgba(255,255,255,.08);
}

html,body{height:100%}
body{
  font-family:"Inter", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  color:var(--text);
  background:var(--bg);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Navbar */
.navbar{
  background-color:#0e1421 !important;
  border-bottom:1px solid var(--border);
}
.navbar .navbar-brand,
.navbar .nav-link{ color:#e5e7eb !important }
.navbar .nav-link:hover,
.navbar .nav-link:focus{ color:#ffffff !important; opacity:.95 }

/* Hero */
.hero{
  background:linear-gradient(135deg, var(--surface) 0%, var(--surface) 65%, rgba(152,30,50,0.10) 100%);
  border:1px solid var(--border);
  border-radius:14px;
  padding:32px 28px;
  margin:18px 0 24px;
}
.hero .hero-content h1{margin:0 0 6px;font-weight:700;line-height:1.25;color:#f3f4f6}
.hero .subtext{color:var(--muted);margin:0 0 18px}

/* Inputs */
.greet-row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.greet-row .form-group,.greet-row .form-label{margin:0}
input.form-control, .form-control{
  height:40px;
  border-radius:10px;
  border:1px solid var(--border);
  box-shadow:none;
  background:var(--surface-2);
  color:var(--text);
}
.form-control::placeholder{ color:#95a0ad }
.form-control:focus{
  border-color:var(--wsu-crimson);
  box-shadow:0 0 0 3px var(--ring);
  outline:0;
}

/* Buttons */
.btn{ border-radius:10px; font-weight:600 }
.btn-primary{
  background:var(--wsu-crimson);
  border-color:var(--wsu-crimson);
}
.btn-primary:hover,.btn-primary:focus{
  background:var(--wsu-crimson-dark);
  border-color:var(--wsu-crimson-dark);
}
.btn-outline-light{
  color:#e5e7eb;
  border:1px solid #cbd5e1;
  background:transparent;
}
.btn-outline-light:hover,.btn-outline-light:focus{
  background:rgba(255,255,255,.08);
  color:#fff;
}

/* Optional visible outline for light-on-dark sections */
.btn-crimson-outline{
  color: var(--wsu-crimson);
  border: 1px solid var(--wsu-crimson);
  background: transparent;
}
.btn-crimson-outline:hover,
.btn-crimson-outline:focus{ background: rgba(152,30,50,.12) }

/* Card blocks */
.card{
  background:var(--surface);
  border:1px solid var(--border);
  border-radius:12px;
  padding:18px 16px;
  margin:10px 0 16px;
  color:var(--text);
}
.card h2,.card h3{ margin-top:0; color:#f3f4f6 }

/* Greeting (now unused, safe to keep or remove) */
.greet-msg{ margin-top:12px; font-weight:600 }

/* ===== Overlay (dark) ===== */
.overlay-root{
  position: fixed;
  inset: 0;
  background: rgba(2, 6, 12, 0.65); /* darker glass */
  z-index: 2000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 32px;
  backdrop-filter: blur(4px);
}
.overlay-card{
  background: var(--surface);
  color: var(--text);
  width: min(960px, 92vw);
  min-height: 60vh;
  border-radius: 18px;
  padding: 28px;
  border:1px solid var(--border);
  box-shadow: 0 20px 60px rgba(0,0,0,.45);
  display: flex;
  flex-direction: column;
  justify-content: center;
  text-align: center;
}

/* Disable background scrolling when overlay is open */
body:has(.overlay-root){ overflow: hidden }

/* Links */
a{ color:#fda4af }           /* soft rose for visited/readability */
a:hover{ color:#fecdd3 }     /* lighter on hover */



/* ==============================
   Cougar Dark Theme Overrides
   ============================== */

:root {
  --wsu-crimson: #981E32;      /* Cougar Crimson */
  --wsu-crimson-dark: #7a1828; /* Dark Crimson */
  --wsu-gray: #5E6A71;         /* Cougar Gray */
  --text: #f3f4f6;             /* near-white text */
  --muted: #cbd5e1;            /* softer gray text */
  --bg: #1c1f23;               /* dark gray background */
  --surface: #2a2f34;          /* panel/card background */
  --surface-2: #24292e;        /* deeper surface */
  --ring: rgba(152, 30, 50, 0.5);
  --border: rgba(255, 255, 255, 0.08);
}

/* Body background */
body {
  background: var(--bg);
  color: var(--text);
}

/* Navbar */
.navbar {
  background-color: var(--wsu-crimson) !important;
  border-bottom: 2px solid var(--wsu-gray);
}
.navbar .navbar-brand,
.navbar .nav-link { color: #fff !important; }
.navbar .nav-link:hover,
.navbar .nav-link:focus { opacity: 0.9; }

/* Hero section */
.hero {
  background: linear-gradient(
    135deg,
    var(--surface) 0%,
    var(--surface) 70%,
    rgba(152,30,50,0.25) 100%
  );
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 40px 32px;
  margin: 18px 0 24px;
}
.hero .hero-content h1 {
  color: #fff;
  font-weight: 700;
}
.hero .subtext { color: var(--muted); }

/* Buttons */
.btn { border-radius: 10px; font-weight: 600; }
.btn-primary {
  background: var(--wsu-crimson);
  border-color: var(--wsu-crimson);
}
.btn-primary:hover,
.btn-primary:focus {
  background: var(--wsu-crimson-dark);
  border-color: var(--wsu-crimson-dark);
}
.btn-outline-light {
  color: var(--wsu-gray);
  border: 1px solid var(--wsu-gray);
  background: transparent;
}
.btn-outline-light:hover,
.btn-outline-light:focus {
  background: rgba(94,106,113,0.15);
  color: #fff;
}

/* Cards */
.card {
  background: var(--surface);
  border: 1px solid var(--wsu-gray);
  border-radius: 12px;
  padding: 20px;
  color: var(--text);
}
.card h2, .card h3 { color: #fff; }

/* Overlay */
.overlay-root {
  background: rgba(152, 30, 50, 0.35); /* crimson-tinted backdrop */
  backdrop-filter: blur(6px);
}
.overlay-card {
  background: var(--surface);
  border: 1px solid var(--wsu-gray);
  border-radius: 16px;
  padding: 28px;
  color: #f8fafc;
}
.overlay-card,
.overlay-card h1,
.overlay-card h2,
.overlay-card h3,
.overlay-card h4,
.overlay-card h5,
.overlay-card h6,
.overlay-card p,
.overlay-card label,
.overlay-card .control-label,
.overlay-card span,
.overlay-card small {
  color: #f8fafc !important;
}
.overlay-card .auth-link{
  color:#fcd7dd!important;
}
.overlay-card .auth-link:hover,
.overlay-card .auth-link:focus{
  color:#ffe2e7!important;
}
.auth-modal-header{
  text-align:center;
  margin-bottom:18px;
  color:var(--text);
}
.auth-modal-header h2{
  color:var(--text);
}
.auth-tabs{
  display:flex;
  justify-content:center;
  gap:12px;
  margin-top:12px;
}
.auth-tab{
  border-radius:999px;
  border:1px solid var(--border);
  padding:6px 18px;
  color:var(--text)!important;
  background:transparent;
  font-weight:600;
  transition:all .15s ease;
}
.auth-tab.active,
.auth-tab:hover,
.auth-tab:focus{
  background:var(--wsu-crimson);
  color:#fff!important;
  border-color:var(--wsu-crimson);
  text-decoration:none;
}
.auth-modal-body{
  display:flex;
  flex-direction:column;
  gap:14px;
  text-align:left;
  color:var(--text);
}
.auth-modal-body .form-group{
  margin-bottom:0;
}
.auth-modal-body label,
.auth-modal-body .control-label{
  color:var(--text);
  font-weight:600;
}
.auth-action{
  width:100%;
  margin-top:4px;
}
.auth-switcher{
  display:flex;
  gap:8px;
  align-items:center;
  justify-content:center;
  font-size:0.9rem;
  color:var(--muted);
}
.auth-link{
  color:#fda4af!important;
  font-weight:600;
}
.auth-link:hover,
.auth-link:focus{
  color:#fecdd3!important;
  text-decoration:none;
}
.auth-modal-body.login .form-group{
  margin-bottom:0;
}
.auth-modal-body.login .form-control{
  background:#ffffff;
  border:1px solid #d1d5db;
  border-radius:12px;
  color:#1f2937;
  height:46px;
  box-shadow:none;
}
.auth-modal-body.login .form-control:focus{
  border-color:var(--wsu-crimson);
  box-shadow:0 0 0 3px var(--ring);
  outline:0;
}
.auth-modal-body.login .auth-action{
  margin-top:4px;
}
.auth-modal-body.login .auth-note{
  text-align:center;
  font-size:0.85rem;
  color:rgba(248,250,252,0.85);
}
.auth-modal-body.login #login-result_auth{
  width:100%;
}
.auth-modal-body.login #login-result_auth .alert{
  background:rgba(220,38,38,0.18);
  border:1px solid rgba(248,113,113,0.35);
  color:#fecdd3;
  border-radius:12px;
  margin:0;
}
.auth-modal-body.login #login-update_shinymanager_language{
  display:none!important;
}
.signup-feedback{
  border-radius:10px;
  padding:10px 12px;
  font-size:0.9rem;
  border:1px solid transparent;
}
.signup-feedback.error{
  background:rgba(220,38,38,0.15);
  border-color:rgba(248,113,113,0.35);
  color:#fecdd3;
}
.signup-feedback.success{
  background:rgba(34,197,94,0.18);
  border-color:rgba(134,239,172,0.45);
  color:#bbf7d0;
}
.user-profile-header{
  position:absolute;
  top:16px;
  right:28px;
  display:flex;
  gap:10px;
  z-index:1100;
}
.user-profile-header .btn{
  border-radius:999px;
  padding:6px 16px;
  font-weight:600;
}
.user-profile-header .btn-outline-light{
  border-color:var(--border);
  color:var(--text);
  background:var(--surface);
}
.user-profile-header .btn-outline-light:hover,
.user-profile-header .btn-outline-light:focus{
  background:var(--surface-2);
  color:#fff;
}
.user-profile-header .btn-primary{
  padding:6px 18px;
}
.user-profile-header.logged-in .btn{
  background:var(--surface);
  border:1px solid var(--border);
  color:var(--text);
}
.user-profile-header.logged-in .btn:hover,
.user-profile-header.logged-in .btn:focus{
  background:var(--surface-2);
  color:#fff;
}
.user-profile-card{
  display:flex;
  flex-direction:column;
  gap:12px;
  padding:4px;
  color:var(--text);
}
.user-profile-card h4{
  margin:0;
  font-weight:700;
}
.user-profile-subtitle{
  margin:0;
  color:var(--muted);
  font-size:0.9rem;
}
.user-profile-details{
  display:grid;
  grid-template-columns:repeat(2,minmax(0,1fr));
  gap:6px 18px;
  margin:0;
}
.user-profile-details dt{
  font-weight:600;
  color:var(--muted);
}
.user-profile-details dd{
  margin:0;
  font-weight:600;
  color:#f3f4f6;
}
.user-profile-note{
  margin:0;
  font-size:0.85rem;
  color:var(--muted);
}
.user-profile-header .dropdown-menu{
  background:var(--surface);
  border:1px solid var(--border);
  border-radius:12px;
  padding:18px 16px;
  min-width:260px;
  color:var(--text);
  right:0;
  left:auto;
}
.user-profile-header .dropdown-menu::before{
  display:none;
}
@media (max-width: 768px){
  .user-profile-header{
    position:static;
    justify-content:flex-end;
    margin:12px 16px -16px;
  }
}

/* ==============================
   Courses tab
   ============================== */
.courses-tab{
  display:flex;
  flex-direction:column;
  gap:18px;
  margin:10px 0 20px;
}
.courses-intro{
  display:flex;
  flex-direction:column;
  gap:18px;
}
.courses-intro p{
  margin-bottom:0;
  color:var(--muted);
}
.courses-intro-controls{
  display:flex;
  flex-wrap:wrap;
  gap:16px;
  align-items:flex-end;
}
.courses-intro-controls .courses-search,
.courses-intro-controls .courses-sort{
  flex:1;
  min-width:220px;
}
.courses-intro-controls .form-group{
  margin-bottom:0;
  width:100%;
}
.courses-list-card{
  max-height:78vh;
  min-height:60vh;
  overflow-y:auto;
  padding:20px;
}
.courses-grid{
  display:grid;
  gap:16px;
  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
}
.course-card{
  margin:0;
  cursor:pointer;
  transition:transform .12s ease, box-shadow .12s ease, border-color .12s ease;
  border:1px solid var(--border);
  background:var(--surface);
}
.course-card:hover,
.course-card:focus{
  transform:translateY(-4px);
  box-shadow:0 12px 24px rgba(0,0,0,0.25);
  border-color:var(--wsu-crimson);
}
.course-meta{
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-size:0.85rem;
  color:var(--muted);
  margin-bottom:8px;
}
.course-code{
  font-weight:600;
  color:var(--text);
}
.course-dept{
  background:rgba(152,30,50,0.18);
  color:var(--text);
  padding:2px 10px;
  border-radius:999px;
  font-size:0.75rem;
}
.course-title{
  margin:0 0 6px;
  font-size:1.05rem;
  color:var(--text);
}
.course-description{
  margin-bottom:12px;
  color:var(--muted);
  font-size:0.9rem;
}
.course-stats{
  display:flex;
  gap:12px;
  font-size:0.85rem;
  color:var(--muted);
}
.course-empty{
  text-align:center;
}
.course-empty h3{
  margin-bottom:8px;
}
.course-detail-stats{
  display:flex;
  flex-wrap:wrap;
  gap:18px;
  margin:12px 0;
  font-weight:600;
}
.course-detail-note{
  color:var(--muted);
  font-size:0.9rem;
}
@media (max-width:768px){
  .courses-list-card{ max-height:none; }
  .course-card:hover,
  .course-card:focus{
    transform:none;
    box-shadow:0 6px 16px rgba(0,0,0,0.2);
  }
}

/* ==============================
   Shared review & profile UI
   ============================== */
.hero-actions{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
}
.hero-actions .btn{
  min-width:160px;
}
.write-review-btn{
  border-color:rgba(255,255,255,0.6);
  color:#fff;
}
.write-review-btn:hover,
.write-review-btn:focus{
  background:rgba(255,255,255,0.15);
  color:#fff;
}
.course-actions,
.professor-actions{
  display:flex;
  align-items:center;
  gap:10px;
  margin-top:14px;
}
.review-card-btn{
  display:inline-flex;
  align-items:center;
  gap:6px;
  font-weight:600;
}
.professors-tab{
  display:flex;
  flex-direction:column;
  gap:18px;
  margin:10px 0 20px;
}
.professors-list-card{
  max-height:60vh;
  overflow-y:auto;
  padding:20px;
}
.professors-grid{
  display:grid;
  gap:16px;
  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
}
.professor-card{
  display:flex;
  flex-direction:column;
  gap:10px;
  border:1px solid var(--border);
  background:var(--surface);
}
.professor-name{
  margin:0;
  font-size:1.1rem;
  color:var(--text);
}
.professor-dept{
  font-size:0.85rem;
  color:var(--muted);
  font-weight:600;
}
.professor-bio{
  margin-bottom:0;
  color:var(--muted);
}
.professor-contact{
  padding:0;
  color:#f5f5f5;
}
.professor-empty{
  text-align:center;
  color:var(--muted);
}
.user-profile-actions{
  margin-top:12px;
}
.view-profile-btn{
  font-weight:600;
}
.profile-modal{
  display:flex;
  flex-direction:column;
  gap:18px;
}
.profile-modal-header{
  display:flex;
  flex-direction:column;
  gap:6px;
  text-align:left;
}
.profile-modal-header h3{
  margin:0;
  color:var(--text);
}
.profile-modal-status{
  font-size:0.9rem;
  color:var(--muted);
}
.profile-modal-joined{
  font-size:0.85rem;
  color:var(--muted);
}
.profile-modal-reviews{
  display:flex;
  flex-direction:column;
  gap:12px;
  max-height:55vh;
  overflow-y:auto;
}
.profile-review-card{
  border:1px solid var(--border);
  border-radius:12px;
  padding:14px 16px;
  background:var(--surface-2);
}
.profile-review-meta{
  font-size:0.8rem;
  color:var(--muted);
  text-transform:uppercase;
  letter-spacing:0.06em;
}
.profile-review-title{
  margin:6px 0;
  color:#f3f4f6;
}
.profile-review-subject{
  margin:4px 0;
  font-size:0.9rem;
  color:var(--muted);
}
.profile-review-body{
  margin:6px 0 0;
  color:#e5e7eb;
  line-height:1.45;
}
.profile-review-empty{
  padding:18px;
  border:1px dashed var(--border);
  border-radius:12px;
  text-align:center;
  color:var(--muted);
}
.profile-review-empty i{
  display:block;
  font-size:1.6rem;
  margin-bottom:8px;
}
.review-modal{
  display:flex;
  flex-direction:column;
  gap:18px;
  text-align:left;
  background:var(--surface);
  border:1px solid var(--border);
  border-radius:16px;
  padding:24px;
  box-shadow:0 18px 42px rgba(0,0,0,0.45);
}
.review-modal-row{
  margin-left:0;
  margin-right:0;
  row-gap:16px;
}
.review-modal-column{
  display:flex;
  flex-direction:column;
  gap:8px;
}
.review-modal .shiny-input-container{
  width:100%;
}
.review-subject-empty{
  padding:12px;
  border:1px solid var(--border);
  border-radius:10px;
  color:var(--muted);
  background:rgba(255,255,255,0.06);
}
.review-feedback{
  display:flex;
  align-items:center;
  gap:8px;
  border-radius:10px;
  padding:10px 12px;
  font-size:0.9rem;
  border:1px solid transparent;
}
.review-feedback.error{
  background:rgba(220,38,38,0.18);
  border-color:rgba(248,113,113,0.35);
  color:#fecdd3;
}
.review-feedback.info{
  background:rgba(59,130,246,0.12);
  border-color:rgba(96,165,250,0.35);
  color:#bfdbfe;
}
.review-modal textarea.form-control{
  min-height:220px;
  resize:vertical;
}
.modal-backdrop{
  background:rgba(152,30,50,0.35);
  backdrop-filter:blur(4px);
}
.cougar-modal .modal-content{
  background:var(--surface);
  color:var(--text);
  border:1px solid var(--border);
  border-radius:18px;
  box-shadow:0 24px 48px rgba(0,0,0,0.45);
}
.cougar-modal .modal-header,
.cougar-modal .modal-body,
.cougar-modal .modal-footer{
  background:transparent;
  border-color:var(--border);
  color:var(--text);
}
.cougar-modal .modal-title{
  color:#f3f4f6;
  font-weight:700;
}
.cougar-modal .modal-body{
  display:flex;
  flex-direction:column;
  gap:16px;
}
.cougar-modal .form-group{
  margin-bottom:0;
}
.cougar-modal .form-control,
.cougar-modal .form-select{
  width:100%;
  background:var(--surface-2);
  border:1px solid var(--border);
  color:var(--text);
  border-radius:12px;
  box-shadow:none;
  min-height:44px;
}
.cougar-modal .form-control:focus,
.cougar-modal .form-select:focus{
  border-color:var(--wsu-crimson);
  box-shadow:0 0 0 3px var(--ring);
}
.cougar-modal .modal-footer{
  display:flex;
  gap:12px;
  justify-content:flex-end;
}
.cougar-modal .modal-footer .btn{
  border-radius:12px;
  padding:10px 20px;
  font-weight:600;
}
.review-modal-dialog .modal-content{
  background:var(--surface);
  color:var(--text);
  border:1px solid var(--border);
}
.review-modal-dialog .modal-title{
  color:var(--text);
}
.review-modal-dialog .modal-header,
.review-modal-dialog .modal-body,
.review-modal-dialog .modal-footer{
  background:transparent;
  color:inherit;
  border-color:var(--border);
}
.review-modal-dialog .modal-body{
  display:flex;
  flex-direction:column;
  gap:20px;
}

/* ==== DARK MODE ==== */
.user-profile-header .dark-mode-toggle{
  order:-1;
}
.dark-mode-toggle{
  display:inline-flex;
  align-items:center;
  gap:0.4rem;
  border-radius:999px;
  padding:6px 18px;
  font-weight:600;
  letter-spacing:0.01em;
  background:rgba(152,30,50,0.12);
  color:#981E32;
  border:1px solid rgba(152,30,50,0.45);
  cursor:pointer;
  box-shadow:0 8px 18px rgba(152,30,50,0.15);
}
.dark-mode-toggle .toggle-icon{
  font-size:0.95rem;
  line-height:1;
}
.dark-mode-toggle.active{
  background:#981E32;
  border-color:#981E32;
  color:#fdf2f5;
  box-shadow:0 12px 22px rgba(152,30,50,0.32);
}
.dark-mode-toggle:focus-visible{
  outline:2px solid rgba(152,30,50,0.45);
  outline-offset:3px;
}
body.dark-mode{
  background:#121014;
  color:#f3f4f6;
}
body.dark-mode .user-profile-header .dark-mode-toggle{
  background:rgba(255,255,255,0.08);
  border-color:rgba(255,255,255,0.18);
  color:#f3f4f6;
  box-shadow:0 8px 16px rgba(0,0,0,0.35);
}
body.dark-mode .user-profile-header .dark-mode-toggle.active{
  background:#f3f4f6;
  color:#981E32;
  border-color:#f3f4f6;
  box-shadow:0 12px 24px rgba(152,30,50,0.28);
}
body.dark-mode .navbar{
  background:#981E32 !important;
  border-bottom:1px solid rgba(255,255,255,0.08);
  box-shadow:0 16px 32px rgba(20,0,4,0.55);
}
body.dark-mode .navbar .navbar-brand,
body.dark-mode .navbar .nav-link{
  color:#fdf2f5 !important;
}
body.dark-mode .navbar .nav-link:hover,
body.dark-mode .navbar .nav-link:focus{
  color:#ffffff !important;
  opacity:1;
}
body.dark-mode .navbar-nav .active > .nav-link,
body.dark-mode .navbar-nav .nav-link.active{
  color:#ffe1e8 !important;
  text-shadow:0 0 12px rgba(255,197,206,0.4);
}
body.dark-mode .hero{
  background:linear-gradient(135deg, #1d1b20 0%, #211820 60%, rgba(152,30,50,0.35) 100%);
  border-color:rgba(255,255,255,0.08);
  box-shadow:0 24px 48px rgba(17,4,6,0.55);
}
body.dark-mode .hero .hero-content h1{
  color:#fdf2f5;
}
body.dark-mode .hero .subtext{
  color:#f1c8d0;
}
body.dark-mode .card{
  background:#1b1c20;
  border:1px solid rgba(255,255,255,0.08);
  box-shadow:0 20px 48px rgba(10,2,4,0.55);
  color:#f3f4f6;
}
body.dark-mode .card h2,
body.dark-mode .card h3{
  color:#fdf2f5;
}
body.dark-mode .courses-list-card,
body.dark-mode .professors-list-card{
  background:#1b1c20;
}
body.dark-mode .btn-primary{
  background:#b73249;
  border-color:#b73249;
  color:#fff;
  box-shadow:0 16px 32px rgba(183,50,73,0.45);
}
body.dark-mode .btn-primary:hover,
body.dark-mode .btn-primary:focus{
  background:#d1405c;
  border-color:#d1405c;
}
body.dark-mode .btn-outline-light{
  color:#f3f4f6;
  border-color:rgba(255,255,255,0.35);
  background:rgba(255,255,255,0.04);
}
body.dark-mode .btn-outline-light:hover,
body.dark-mode .btn-outline-light:focus{
  background:rgba(255,255,255,0.12);
  color:#fff;
  border-color:rgba(255,255,255,0.5);
}
body.dark-mode .write-review-btn{
  border-color:rgba(255,255,255,0.25);
  color:#f3f4f6;
}
body.dark-mode .write-review-btn:hover,
body.dark-mode .write-review-btn:focus{
  background:rgba(152,30,50,0.25);
  color:#fff;
  border-color:rgba(255,255,255,0.35);
}
body.dark-mode .professors-grid .card,
body.dark-mode .courses-grid .card{
  background:#1f2027;
  border-color:rgba(255,255,255,0.08);
}
body.dark-mode .professors-grid .card:hover,
body.dark-mode .courses-grid .card:hover{
  border-color:rgba(152,30,50,0.35);
  box-shadow:0 24px 52px rgba(17,4,6,0.55);
}
body.dark-mode .form-control,
body.dark-mode .form-select,
body.dark-mode .selectize-input{
  background:#121218;
  border:1px solid rgba(255,255,255,0.14);
  color:#f3f4f6;
}
body.dark-mode .form-control::placeholder{
  color:#c7c9ce;
}
body.dark-mode .form-control:focus,
body.dark-mode .form-select:focus,
body.dark-mode .selectize-input.focus{
  border-color:#c7485f;
  box-shadow:0 0 0 3px rgba(199,72,95,0.35);
}
body.dark-mode .selectize-dropdown,
body.dark-mode .dropdown-menu{
  background:#1c1d23;
  border:1px solid rgba(255,255,255,0.12);
  color:#f3f4f6;
}
body.dark-mode .selectize-dropdown .active,
body.dark-mode .dropdown-item:hover,
body.dark-mode .dropdown-item:focus{
  background:rgba(152,30,50,0.25);
  color:#fff;
}
body.dark-mode a{
  color:#f5b3c0;
}
body.dark-mode a:hover,
body.dark-mode a:focus{
  color:#ffe1e8;
}
body.dark-mode .modal-content{
  background:#1b1c21;
  border:1px solid rgba(255,255,255,0.12);
  color:#f3f4f6;
}
body.dark-mode .modal-header,
body.dark-mode .modal-footer{
  border-color:rgba(255,255,255,0.1);
}
body.dark-mode .overlay-card,
body.dark-mode .overlay-card label,
body.dark-mode .overlay-card h2,
body.dark-mode .overlay-card h3,
body.dark-mode .overlay-card p{
  color:#1f2937 !important;
}

/* ==== MICROANIMATIONS ==== */
a,
.btn,
.card,
.navbar .nav-link,
.hero,
.dark-mode-toggle,
.courses-grid .card,
.professors-grid .card,
.action-button,
.selectize-input{
  transition:all 0.3s ease-in-out;
}
.btn:hover,
.btn:focus{
  transform:translateY(-1px);
}
.navbar .nav-link:hover,
.navbar .nav-link:focus{
  transform:translateY(-2px);
}
.card:hover{
  transform:translateY(-4px);
}
.hero{
  transition:background 0.4s ease-in-out, box-shadow 0.4s ease-in-out, transform 0.4s ease-in-out;
}
.hero:hover{
  transform:translateY(-6px);
  box-shadow:0 24px 48px rgba(3,8,20,0.15);
}
.dark-mode-toggle:hover,
.dark-mode-toggle:focus{
  transform:translateY(-1px) scale(1.05);
}
.courses-grid .card,
.professors-grid .card{
  transform:translateY(0);
}
.courses-grid .card:hover,
.professors-grid .card:hover{
  transform:translateY(-6px);
}
.navbar-nav .nav-link{
  position:relative;
}
.navbar-nav .nav-link::after{
  content:\"\"; 
  position:absolute;
  left:0;
  bottom:-6px;
  width:0;
  height:2px;
  background:currentColor;
  transition:width 0.3s ease-in-out;
  opacity:0.75;
}
.navbar-nav .nav-link:hover::after,
.navbar-nav .nav-link:focus::after,
.navbar-nav .nav-link.active::after{
  width:100%;
}
.btn,
.dark-mode-toggle{
  will-change:transform;
}
@media (prefers-reduced-motion: reduce){
  a,
  .btn,
  .card,
  .navbar .nav-link,
  .hero,
  .dark-mode-toggle,
  .courses-grid .card,
  .professors-grid .card,
.action-button,
  .selectize-input{
    transition:none;
  }
  .btn:hover,
  .btn:focus,
  .navbar .nav-link:hover,
  .navbar .nav-link:focus,
  .card:hover,
  .hero:hover,
  .dark-mode-toggle:hover,
  .dark-mode-toggle:focus,
  .courses-grid .card:hover,
  .professors-grid .card:hover{
    transform:none;
  }
}

/* ==== LIGHT MODE POLISH ==== */
body:not(.dark-mode){
  background:#fff6f6;
  color:#3a1f21;
}
body:not(.dark-mode) .navbar{
  background:linear-gradient(90deg,#c44254 0%,#981E32 70%) !important;
  border-bottom:1px solid rgba(152,30,50,0.25);
  box-shadow:0 16px 36px rgba(152,30,50,0.18);
}
body:not(.dark-mode) .navbar .navbar-brand,
body:not(.dark-mode) .navbar .nav-link{
  color:#ffffff !important;
}
body:not(.dark-mode) .navbar .nav-link:hover,
body:not(.dark-mode) .navbar .nav-link:focus{
  color:#ffe9ee !important;
  opacity:1;
}
body:not(.dark-mode) .navbar-nav .active > .nav-link,
body:not(.dark-mode) .navbar-nav .nav-link.active{
  color:#fff3f5 !important;
  text-shadow:0 0 10px rgba(255,234,238,0.45);
}
body:not(.dark-mode) .hero{
  background:linear-gradient(135deg,#ffffff 0%,#ffe3e8 58%,rgba(152,30,50,0.18) 100%);
  border:1px solid rgba(152,30,50,0.18);
  box-shadow:0 18px 42px rgba(152,30,50,0.12);
}
body:not(.dark-mode) .hero .hero-content h1{
  color:#43161b;
}
body:not(.dark-mode) .hero .subtext{
  color:#7a2b34;
}
body:not(.dark-mode) .card{
  background:#ffffff;
  border:1px solid rgba(152,30,50,0.14);
  box-shadow:0 14px 36px rgba(152,30,50,0.08);
  color:#3f1a1d;
}
body:not(.dark-mode) .courses-list-card,
body:not(.dark-mode) .professors-list-card{
  background:#ffffff;
}
body:not(.dark-mode) .card h2,
body:not(.dark-mode) .card h3{
  color:#2a0d13;
}
body:not(.dark-mode) .card h4,
body:not(.dark-mode) .card h5{
  color:#341115;
}
body:not(.dark-mode) .courses-grid .card,
body:not(.dark-mode) .professors-grid .card{
  background:#ffffff;
  border:1px solid rgba(152,30,50,0.14);
}
body:not(.dark-mode) .courses-grid .card:hover,
body:not(.dark-mode) .professors-grid .card:hover{
  border-color:rgba(152,30,50,0.3);
  box-shadow:0 20px 44px rgba(152,30,50,0.16);
}
body:not(.dark-mode) .btn-primary{
  background:#981E32;
  border-color:#981E32;
  color:#ffffff;
  box-shadow:0 14px 30px rgba(152,30,50,0.32);
}
body:not(.dark-mode) .btn-primary:hover,
body:not(.dark-mode) .btn-primary:focus{
  background:#b73249;
  border-color:#b73249;
}
body:not(.dark-mode) .btn-outline-light{
  color:#981E32;
  border-color:rgba(152,30,50,0.4);
  background:rgba(152,30,50,0.08);
}
body:not(.dark-mode) .btn-outline-light:hover,
body:not(.dark-mode) .btn-outline-light:focus{
  background:rgba(152,30,50,0.15);
  color:#7a1828;
  border-color:rgba(152,30,50,0.55);
}
body:not(.dark-mode) .write-review-btn{
  border-color:rgba(152,30,50,0.45);
  color:#981E32;
}
body:not(.dark-mode) .write-review-btn:hover,
body:not(.dark-mode) .write-review-btn:focus{
  background:rgba(152,30,50,0.12);
  color:#7a1828;
}
body:not(.dark-mode) .form-control,
body:not(.dark-mode) .form-select,
body:not(.dark-mode) .selectize-input{
  background:#ffffff;
  border:1px solid rgba(152,30,50,0.2);
  color:#3a1f21;
}
body:not(.dark-mode) .form-control::placeholder{
  color:#a8616d;
}
body:not(.dark-mode) .card p,
body:not(.dark-mode) .card span,
body:not(.dark-mode) .card small,
body:not(.dark-mode) .card .text-muted{
  color:#5a1f25;
}
body:not(.dark-mode) .courses-intro p,
body:not(.dark-mode) .professors-intro p,
body:not(.dark-mode) .courses-tab label,
body:not(.dark-mode) .professors-tab label{
  color:#582227;
}
body:not(.dark-mode) .text-muted{
  color:#7a2b34 !important;
}
body:not(.dark-mode) .badge{
  background:rgba(152,30,50,0.12);
  color:#7a1828;
}
body:not(.dark-mode) .form-control:focus,
body:not(.dark-mode) .form-select:focus,
body:not(.dark-mode) .selectize-input.focus{
  border-color:#981E32;
  box-shadow:0 0 0 3px rgba(152,30,50,0.2);
}
body:not(.dark-mode) .selectize-dropdown,
body:not(.dark-mode) .dropdown-menu{
  background:#ffffff;
  border:1px solid rgba(152,30,50,0.22);
  color:#3f1a1d;
}
body:not(.dark-mode) .selectize-dropdown .active,
body:not(.dark-mode) .dropdown-item:hover,
body:not(.dark-mode) .dropdown-item:focus{
  background:rgba(152,30,50,0.16);
  color:#7a1828;
}
body:not(.dark-mode) .user-profile-header .dark-mode-toggle{
  background:rgba(152,30,50,0.12);
  border:1px solid rgba(152,30,50,0.35);
  color:#981E32;
  box-shadow:0 10px 26px rgba(152,30,50,0.18);
}
body:not(.dark-mode) .user-profile-header .dark-mode-toggle.active{
  background:#981E32;
  border-color:#981E32;
  color:#ffffff;
  box-shadow:0 14px 30px rgba(152,30,50,0.28);
}
body:not(.dark-mode) .user-profile-header .btn-outline-light{
  color:#981E32;
  border-color:rgba(152,30,50,0.35);
  background:#ffffff;
}
body:not(.dark-mode) .user-profile-header .btn-outline-light:hover,
body:not(.dark-mode) .user-profile-header .btn-outline-light:focus{
  background:rgba(152,30,50,0.14);
  color:#7a1828;
}
body:not(.dark-mode) a{
  color:#981E32;
}
body:not(.dark-mode) a:hover,
body:not(.dark-mode) a:focus{
  color:#b73249;
}
